<!DOCTYPE html>
<html lang="en" th:replace="~{user/index::dynamic(~{::main})}">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
</head>
<body>
<main>
    <div class="container">
        <div>
            <img src="https://th.bing.com/th/id/OIP.0PoDOSn6cnaaRwxnK0SqaAHaEK?rs=1&pid=ImgDetMain" class="cover-photo"
                 alt="Cover Photo">
        </div>
        <div class="profile-header">
            <div style="position: relative;">
                <img th:src="${info.accountInfo.avatar == null ? 'https://i0.wp.com/www.vidyadhirajamvk.org/wp-content/uploads/2022/08/venugopal.png?fit=436%2C534&ssl=1': info.accountInfo.avatar}"
                     class="profile-pic" alt="Profile Picture">
                <img src="https://icons.iconarchive.com/icons/iconsmind/outline/512/Camera-icon.png" class="camera-icon"
                     alt="Camera Icon" width="24px">
            </div>
            <div class="profile-info">
                <h1>[[${info.accountInfo.fullName}]] <i th:if="${info.verifiedAccount}"
                                                        class="text-primary bi bi-patch-check-fill"></i></h1>
                <p class="location"
                   th:unless="${info.accountInfo.otherName == null or info.accountInfo.otherName.isEmpty()}">
                    ([[${info.accountInfo.otherName}]])</p>
                <p class="followers"><span id="followerCount">[[${info.accountDetails.followers}]]</span> followers •
                    <span id="followingCount">[[${info.accountDetails.following}]]</span> following</p>
                <div class="following">
                    <th:block th:each="friend : ${listFriendsViewProfile}">
                        <img th:src="@{${friend.friendInfo.accountInfo.avatar}}"
                             th:alt="${friend.friendInfo.accountInfo.fullName}">
                    </th:block>
                    <th:block th:switch="${hasFriend.status}">
                        <a th:case="1" th:href="@{'/friends/unfriend/' + ${info.id}}" class="btn border rounded">Unfriend</a>
                        <th:block th:case="0">
                            <a th:unless="${#authentication.principal.account.id eq hasFriend.accountId}"
                               th:href="@{'/friends/confirm/' + ${info.id}}" class="btn border rounded me-2">Confirm</a>
                            <a th:href="@{'/friends/cancel/' + ${info.id}}" class="btn border rounded">Cancel</a>
                        </th:block>
                        <a th:case="*" th:href="@{'/friends/sendRequest/' + ${info.id}}" class="btn border rounded">Add
                            friend</a>
                    </th:block>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-3 rounded-1">
        <nav th:replace="~{layout/_navbar_profile::navbar}"></nav>
    </div>
    <div class="row mt-3">
        <div class="col-4">
            <div class="profile-card">
                <div class="intro">Intro</div>
                <div class="text-center">
                    <div id="div-show " style="display: block"
                         th:text="${info.accountInfo.bio}">Bio
                    </div>
                </div>
                <hr>
                <ul class="details">
                    <li><i class="bi bi-info-circle-fill text-secondary"></i><span>Profile · Public figure</span></li>
                    <li th:unless="${info.accountInfo.work == null or info.accountInfo.work.isEmpty()}"><i
                            class="bi bi-briefcase-fill text-secondary"></i><span>Works at <strong
                            th:text="${info.accountInfo.work}">Work</strong></span></li>
                    <li th:unless="${info.accountInfo.education == null or info.accountInfo.education.isEmpty()}"><i
                            class="bi bi-building-fill text-secondary"></i><span>Studies at <strong
                            th:text="${info.accountInfo.education}">Education</strong></span></li>
                    <li th:unless="${info.accountInfo.currentCity == null or info.accountInfo.currentCity.isEmpty()}"><i
                            class="bi bi-house-door-fill text-secondary"></i><span>Lives in <strong
                            th:text="${info.accountInfo.currentCity}">CurrentCity</strong></span></li>
                    <li th:unless="${info.accountInfo.hometown == null or info.accountInfo.hometown.isEmpty()}"><i
                            class="bi bi-geo-alt-fill text-secondary"></i><span>From <strong
                            th:text="${info.accountInfo.hometown}">From</strong></span></li>
                    <li th:unless="${info.accountInfo.relationship == null}"><i
                            class="bi bi-heart-fill text-secondary"></i><span
                            th:text="${info.accountInfo.relationship.statusName}">Relationship</span></li>
                </ul>
            </div>
        </div>
        <div class="col-8">
            <div th:if="${listPost.isEmpty()}" style="height: 1000px;"></div>
            <th:block th:each="p : ${listPost}">
                <div class="mb-3 shadow-lg p-3 mb-5 bg-body-tertiary rounded p-3">
                    <div class="profile-container mb-2">
                        <img th:src="${p.account.accountInfo.avatar}"
                             class="rounded-circle" alt="..." width="40px">
                        <div class="profile-text text-start">
                            <p class="fw-bold mb-0">[[${p.account.accountInfo.fullName}]] <i th:if="${p.account.verifiedAccount}" class="text-primary bi bi-patch-check-fill"></i>
                            </p>
                            <p class="text-muted text-start small mb-0" th:text="${p.createDate}">Create Date</p>
                        </div>
                    </div>
                    <p th:text="${p.content}">
                        Content
                    </p>
                    <div class="d-flex justify-content-center align-items-center">
                        <img th:src="${p.urlImage}"
                             class="rounded d-block" alt="..." width="50%">
                    </div>
                    <div class="row border-top d-flex p-2 mt-3">
                        <div class="col">
                            109K <i class="bi bi-hand-thumbs-up"></i> Like
                        </div>
                        <div class="col">
                            43.7K <i class="bi bi-chat"></i> Comment
                        </div>
                        <div class="col">
                            3.6K <i class="bi bi-share"></i> Share
                        </div>
                    </div>
                </div>
            </th:block>
        </div>
    </div>
</main>
</body>
</html>