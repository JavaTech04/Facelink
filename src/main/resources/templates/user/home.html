<!DOCTYPE html>
<html lang="en" th:replace="~{user/index::dynamic(~{::main})}">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
</head>
<body>
<main>
    <div class="p-2 text-start mb-lg-5 mb-lg-5">
        <div class="d-flex text-start mb-3">
            <div class="d-flex" id="carouselInner">
                <div class="story-item">
                    <img th:src="${#authentication.principal.account.accountInfo.avatar == null ? 'https://png.pngtree.com/back_origin_pic/04/49/63/93264d0256697a38a75d1840ea6ef63f.jpg': #authentication.principal.account.accountInfo.avatar}"
                         alt="Create story">
                    <a th:href="@{#/create-story}" class="create-story">Create story</a>
                </div>
                <div class="story-item">
                    <img src="https://scontent.fhan20-1.fna.fbcdn.net/v/t39.30808-6/335348988_608949947328578_5872793632796937082_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=FxeS3m7LvlEQ7kNvgG4v0p2&_nc_ht=scontent.fhan20-1.fna&oh=00_AYACvXoiohQ6jH0p75_4j2BJL4xQ13TMT3TaI6G6u7KvtQ&oe=66934FCB"
                         alt="...">
                    <div class="name">Nong Hoang Vu</div>
                </div>
                <div class="story-item">
                    <img src="https://scontent.fhan2-4.fna.fbcdn.net/v/t39.30808-1/430796318_10115540567190571_8582399341104871939_n.jpg?stp=dst-jpg_p200x200&_nc_cat=1&ccb=1-7&_nc_sid=0ecb9b&_nc_ohc=I2cw9UNy1E0Q7kNvgELFfM-&_nc_ht=scontent.fhan2-4.fna&oh=00_AYBsuqzvh98o25U1ESEHNqoSd6LC_qCr0SVHjmphGtJzDw&oe=669350F3"
                         alt="...">
                    <div class="name">Mark Zuckerberg</div>
                </div>
                <div class="story-item">
                    <img src="https://scontent.fhan2-5.fna.fbcdn.net/v/t39.30808-6/449748119_122117455058337374_7904482335281552128_n.jpg?stp=cp6_dst-jpg&_nc_cat=106&ccb=1-7&_nc_sid=127cfc&_nc_ohc=dKVwc2MZxL0Q7kNvgFRyfna&_nc_ht=scontent.fhan2-5.fna&oh=00_AYDvlfa2RJmsT2zXWg8QHGshWIF3PjboKK7o9ngLqMPySA&oe=6693314B"
                         alt="Bùi Đình Chiến">
                    <div class="name">Mình Yêu Nhau Đi</div>
                </div>
            </div>
        </div>
        <form th:action="@{/post}" th:object="${post}" id="post-new" method="post">
            <div class="border rounded mb-3 p-4">
                <div class="row">
                    <div class="col-1">
                        <img th:src="${#authentication.principal.account.accountInfo.avatar == null ? 'https://i0.wp.com/www.vidyadhirajamvk.org/wp-content/uploads/2022/08/venugopal.png?fit=436%2C534&ssl=1': #authentication.principal.account.accountInfo.avatar}"
                             class="rounded-circle" alt="..." width="40px">
                    </div>
                    <div class="col-11 d-flex justify-content-center align-items-center">
                        <input th:field="*{content}" class="form-control rounded-pill me-3" type="search"
                               th:placeholder="'What\'s on your mind, ' + ${#authentication.principal.account.accountInfo.firstName} + '?'"
                               aria-label="Search">
                        <button class="btn" type="button" id="btn-post">Post</button>
                    </div>
                </div>
                <!--Image-->
                <div class="d-flex justify-content-center align-items-center p-2" id="imageContainer">
                    <button type="button" id="deleteImage" class="btn">X</button>
                    <img id="displayImage" class="rounded" src="" alt="Preview" width="50%">
                </div>
                <!--Video-->
                <div class="d-flex justify-content-center align-items-center p-2" id="videoContainer">
                    <video id="displayVideo" controls style="width: 80%">
                        Your browser does not support the video tag.
                    </video>
                    <button type="button" id="deleteVideo" class="btn">X</button>
                </div>
                <hr class="mt-3 mb-3">
                <div class="row text-center">
                    <div class="col">
                        <i class="bi bi-camera-reels"></i> Live video
                    </div>
                    <div class="col d-flex justify-content-center">
                        <div class="upload-container" id="uploadContainer">
                            <input type="hidden" th:field="*{urlImage}" id="imageInput">
                            <input type="hidden" th:field="*{urlVideo}" id="videoInput">
                            <input type="file" id="fileInput" style="display: none" accept="image/*, video/*">
                            <i class="bi bi-images"></i> Photo/video
                        </div>
                    </div>
                    <div class="col">
                        <i class="bi bi-gpu-card"></i> Reel
                    </div>
                </div>
            </div>
        </form>
        <th:block th:each="p : ${listPost}">
            <div class="mb-3 shadow-lg p-3 mb-5 bg-body-tertiary rounded p-3">
                <div class="profile-container mb-2">
                    <img th:src="${p.account.accountInfo.avatar}"
                         class="rounded-circle" alt="..." width="40px">
                    <div class="profile-text text-start">
                        <p class="fw-bold mb-0">[[${p.account.accountInfo.fullName}]] <i
                                th:if="${p.account.verifiedAccount}" class="text-primary bi bi-patch-check-fill"></i>
                        </p>
                        <p class="text-muted text-start small mb-0" th:text="${p.createDate}">Create Date</p>
                    </div>
                </div>
                <p th:text="${p.content}">
                    Content
                </p>
                <div class="d-flex justify-content-center align-items-center">
                    <img th:src="${p.urlImage}"
                         class="rounded d-block" alt="..." width="50%">
                </div>
                <div class="row border-top d-flex p-2 mt-3">
                    <div class="col">
                        109K <i class="bi bi-hand-thumbs-up"></i> Like
                    </div>
                    <div class="col">
                        43.7K <i class="bi bi-chat"></i> Comment
                    </div>
                    <div class="col">
                        3.6K <i class="bi bi-share"></i> Share
                    </div>
                </div>
            </div>
        </th:block>
        <!--        <div class="mb-3 shadow-sm p-3 mb-5 bg-body-tertiary rounded p-2 mt-3">-->
        <!--            <div class="profile-container mb-2">-->
        <!--                <img src="https://scontent.fhan20-1.fna.fbcdn.net/v/t39.30808-1/446732501_1658022081613061_7024694374018705809_n.jpg?stp=dst-jpg_p200x200&_nc_cat=102&ccb=1-7&_nc_sid=50d2ac&_nc_ohc=g_uMphr0BXcQ7kNvgHkIoPQ&_nc_ht=scontent.fhan20-1.fna&oh=00_AYDIPjYmR9TM3JN8c7goC3XEVR2gAWrU_Nb9iiOfmuCmVw&oe=6692DF66"-->
        <!--                     class="rounded-circle" alt="..." width="40px">-->
        <!--                <div class="profile-text">-->
        <!--                    <p class="fw-bold mb-0">Nong Hoang Vu <i class="text-primary bi bi-patch-check-fill"></i></p>-->
        <!--                    <p class="text-muted text-start small mb-0">2 day a go.</p>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--            <p> Vì ngày xưa ấy nghĩ rằng tay trong tay | còn gì đau hơn chữ đã từng...!</p>-->
        <!--            <div class="d-flex justify-content-center align-items-center">-->
        <!--                &lt;!&ndash;                <img src="https://scontent.fhan2-4.fna.fbcdn.net/v/t39.30808-6/450140440_1679737436108192_4009668874840530215_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=127cfc&_nc_ohc=okKtPAE1bSwQ7kNvgGKPIh7&_nc_ht=scontent.fhan2-4.fna&oh=00_AYDd4UDLpyVjNgHfVqBGHw5GJXkEZ3fdpaKnyupVv1lAKQ&oe=6692F05A"&ndash;&gt;-->
        <!--                &lt;!&ndash;                     class="rounded d-block" alt="..." width="50%">&ndash;&gt;-->
        <!--                <iframe class="rounded d-block" width="100%" height="310"-->
        <!--                        src="https://res.cloudinary.com/dswqplrdx/video/upload/v1720631702/gn9tlfd7xjwmpv1pqlyt.mp4"-->
        <!--                        frameborder="0"-->
        <!--                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"-->
        <!--                        allowfullscreen>>-->
        <!--                </iframe>-->
        <!--            </div>-->
        <!--            <div class="row border-top d-flex p-2 mt-3">-->
        <!--                <div class="col">-->
        <!--                    102 <i class="bi bi-hand-thumbs-up"></i> Like-->
        <!--                </div>-->
        <!--                <div class="col">-->
        <!--                    58 <i class="bi bi-chat"></i> Comment-->
        <!--                </div>-->
        <!--                <div class="col">-->
        <!--                    8 <i class="bi bi-share"></i> Share-->
        <!--                </div>-->
        <!--            </div>-->
        <!--        </div>-->
    </div>
</main>
</body>
</html>